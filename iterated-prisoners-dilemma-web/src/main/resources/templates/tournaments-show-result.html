<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Tournaments</title>
    <link rel="stylesheet" href="../static/bootstrap/css/bootstrap.min.css"
          th:href="@{/bootstrap/css/bootstrap.min.css}"/>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script th:inline="javascript">
        google.charts.load('current', {'packages': ['bar']});
        google.charts.setOnLoadCallback(drawStuff);


        function drawStuff() {
            var dataGson = [[${data}]];
            let stratMap = JSON.parse(dataGson);
            console.log(stratMap)

            var data = new google.visualization.arrayToDataTable([
                ['Strategy', 'Score'],
                ["Strat1", 44],
                ["Strat2", 31],
                ["Strat3", 12],
                ["Strat4", 10],
                ['Strat5', 3]
            ]);

            var options = {
                title: 'Chess opening moves',
                legend: {position: 'none'},
                axes: {
                    x: {
                        0: {side: 'bottom', label: 'Strategies'} // Top x-axis.
                    }
                },
                bar: {groupWidth: "90%"}
            };

            var chart = new google.charts.Bar(document.getElementById('top_x_div'));
            // Convert the Classic options to Material options.
            chart.draw(data, google.charts.Bar.convertOptions(options));
        };
    </script>

</head>

<body>
<header th:replace="fragments/parts::menu">
</header>
<main>
    <div class="offset-3" id="top_x_div" style="width: 500px; height: 400px;"></div>

    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
</main>

<footer th:replace="fragments/parts::footer"></footer>

<script th:src="@{/jquery/jquery.min.js}"></script>
<script th:src="@{/bootstrap/js/bootstrap.min.js}"></script>

</body>
</html>